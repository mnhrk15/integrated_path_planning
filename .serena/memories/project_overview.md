# Project Overview
- **Purpose**: Integrated simulation for autonomous vehicle path planning that fuses pedestrian ground-truth simulation (Social Force/PySocialForce), pedestrian trajectory prediction (vendor Social-GAN), and Frenet Optimal Trajectory planning.
- **Core Flow**: PedestrianSimulator (Social Force or simple dynamics) -> PedestrianObserver (sliding window) -> TrajectoryPredictor (SGAN) -> CoordinateConverter -> FrenetPlanner (CubicSpline2D/quintic polynomials) -> IntegratedSimulator orchestrates run/save/visualize.
- **Key Modules**: `src/simulation/integrated_simulator.py` (main loop + results saving/plotting), `src/planning/frenet_planner.py` (trajectory generation/collision checks), `src/core` (dataclasses, coordinate conversions), `src/pedestrian/observer.py`, `src/prediction/trajectory_predictor.py` (requires downloaded `.pt` checkpoint, vendor SGAN under `prediction/sgan_vendor`), `src/visualization/animator.py` (GIF/MP4, metrics), `src/config/__init__.py` + `default_config.yaml` (SimulationConfig dataclass + YAML loader).
- **Entrypoints**: `examples/run_simulation.py` (CLI flags for scenario, steps, output, animate, fps/log level), `examples/demo_animation.py` (GIF+MP4 demo), `scripts/download_sgan_models.{py,sh}` (fetch pretrained SGAN; requiredâ€”no constant-velocity fallback), `scripts/check_implementation.py` (dependency/file sanity check).
- **Configs/Scenarios**: YAML files under `scenarios/` define dt, obs/pred lengths, ego params, waypoints, pedestrians/groups, static obstacles, safety radii, planner weights, `sgan_model_path` (must be set). Default config in `src/config/default_config.yaml`.
- **Outputs**: `simulator.save_results()` writes `trajectory.npz` (times, ego state, pedestrian states, predicted trajectories, planned paths, metrics). Visualization saves `simulation.png`; animator produces `simulation.gif`/`simulation.mp4`.
- **Dependencies**: Python >=3.8; numpy/scipy/torch/torchvision/matplotlib/pyyaml/numba/loguru/dataclasses-json; optional pysocialforce (for realistic pedestrian sim), pillow + ffmpeg/ffmpeg-python for MP4/GIF, tqdm. Uses loguru for logging. Tests via pytest.
- **Docs**: README.md + QUICKSTART.md for usage/installation; CHANGELOG.md + IMPLEMENTATION_COMPLETE.md summarize added features; docs/ADDITIONAL_FEATURES.md highlights SGAN requirement, PySocialForce integration, static obstacles/safety parameters, planner cost overrides.